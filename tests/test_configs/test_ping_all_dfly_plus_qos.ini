include ping_all_snappr.ini

switch {
 router {
  name = dragonfly_plus_alltoall_minimal
 }
 qos_levels = 1
 link {
  credits = 64KB
 }
}

topology {
 name = dragonfly_plus
 geometry = [4,3]
 concentration = 4
 h = 4
 inter_group = alltoall
}

node {
 nic {
  arbitrator = priority_fifo
  negligible_size = 0
  qos_levels = 1
  injection{
    credits = 64KB
  }
 }
 app1 {
  sleep_time = 1us
  mpi {
   #collective_rdma_get_qos = 0
   #collective_smsg_qos = 1
   #collective_rdma_header_qos = 2
   #collective_ack_qos = 2
   #eager0_qos = 1
   #eager1_header_qos = 2
   #eager1_rdma_get_qos = 0
   #eager1_ack_qos = 0
   #rendezvous_header_qos = 2
   #rendezvous_rdma_get_qos = 0
   #rendezvous_ack_qos = 2
   #collective_smsg_qos = 1
   #collective_rdma_header_qos = 0
   #collective_rdma_get_qos = 2
   #collective_ack_qos = 1
   #eager0_qos = 1
   #eager1_header_qos = 0
   #eager1_rdma_get_qos = 2
   #eager1_ack_qos = 1
   #rendezvous_header_qos = 0
   #rendezvous_rdma_get_qos = 2
   #rendezvous_ack_qos = 1
   delays {
    group = qos
    output = message_delay
    type = message_delay
   }
  }
  message_size = 10KB
 }
}



