congestion_model = pisces
router = minimal
accuracy_parameter = 64KB


topology {
  name = torus
  geometry = [3,3,3]
  redundant = [8,4,8]
  concentration = 2
  injection_redundant = 8
}

node {
  name = simple
  proc {
   ncores = 4
   frequency = 2GHz
  }
  nic {
   name = pisces
   injection {
    arbitrator = cut_through
    bandwidth = 10GB/s
    latency = 1us
   }
  }
  memory {
   name = pisces
   total_bandwidth = 10GB/s
   max_single_bandwidth = 6GB/s
   latency = 10ns
   mtu = 100MB
  }
}

switch {
  mtu = 64KB
  geometry = [8,6]
  arbitrator = cut_through
  xbar {
    credits = 32KB
    bandwidth = 10GB/s
  }
  link {
   latency = 100ns
   credits = 32KB
   bandwidth = 10GB/s
  }
}

